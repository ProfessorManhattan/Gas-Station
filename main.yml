---
# - import_playbook: playbooks/terminal.yml
#   vars:
#     install_roles:
#       - tabby
#       - hyper
# - import_playbook: playbooks/anonimity.yml
# - import_playbook: playbooks/automation.yml
# - import_playbook: playbooks/backup.yml
# - import_playbook: playbooks/base.yml
# - import_playbook: playbooks/ci-cd-agent.yml
# - import_playbook: playbooks/cli-utilities.yml
# - import_playbook: playbooks/cloud-cli.yml
# - import_playbook: playbooks/collaboration.yml
# - import_playbook: playbooks/containers.yml
# - import_playbook: playbooks/crypto.yml
# - import_playbook: playbooks/desktop-utilities.yml
# - import_playbook: playbooks/developer-tools.yml
# - import_playbook: playbooks/email.yml
# - import_playbook: playbooks/file-sharing.yml
# - import_playbook: playbooks/freeipa.yml
# - import_playbook: playbooks/git-tools.yml
# - import_playbook: playbooks/image.yml
# - import_playbook: playbooks/init.yml
# - import_playbook: playbooks/languagemanagers.yml
# - import_playbook: playbooks/languages.yml
# - import_playbook: playbooks/monitoring.yml
# - import_playbook: playbooks/multimedia.yml
# - import_playbook: playbooks/network-tools.yml
# - import_playbook: playbooks/office.yml
# - import_playbook: playbooks/remote-connection.yml
# - import_playbook: playbooks/screenshot-screencast.yml
# - import_playbook: playbooks/secret.yml
# - import_playbook: playbooks/terminal.yml
# - import_playbook: playbooks/virtualization.yml
# - import_playbook: playbooks/vpn.yml
# - import_playbook: playbooks/web-browser.yml


- hosts: pfsense
  roles:
    - roles/misc/pfsense

- hosts: seconion
  roles:
    - roles/misc/seconion

- hosts: all:!pfsense:!seconion
  gather_facts: false
  roles:
    - roles/system/connect

- hosts: macos-desktop
  roles:
    - roles/tools/mas

- hosts: all:!pfsense:!seconion
  roles:
    - roles/system/fuse
    - roles/tools/starship # Developer note - dotfiles role needs starship installed before it runs
    - roles/system/dotfiles
    - roles/system/zsh
    - roles/system/tmux
    - roles/system/motd
    - roles/services/antivirus
    - roles/services/cups
    - role: roles/services/dnsmasq
      when: install_dnsmasq | default(false)
    - roles/services/nginx
    - role: roles/services/portout
      when: install_portout | default(false)

# - hosts: desktop
#  roles:
#    - roles/services/zenbot # Zenbot: Automated cryptocurrency trading tool

- hosts: all:!pfsense:!seconion
  roles:
    - role: roles/misc/easyengine
      when: install_easyengine | default(false)
    - role: roles/misc/hosthomepage
      when: install_host_homepage | default(false)
    # - role: roles/misc/ipa
    #   when: install_ipa | default(false)
    - role: roles/misc/maas
      when: install_maas | default(false)
    # - role: roles/misc/pihole # Currently relies on external role to set up encrypted DNS
    #   when: install_pihole | default(false)
    - roles/system/finish
